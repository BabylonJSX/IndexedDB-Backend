{
"version":3,
"file":"babylonx.indexeddbpersistence.2.1-alpha.min.js",
"lineCount":1,
"mappings":"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",
"sources":["babylonx.indexeddbpersistence.2.1-alpha.js"],
"names":["BABYLONX","BabylonSerialization","SerializeMesh","BabylonSerialization.SerializeMesh","mesh","submeshes","geometryId","subMeshes","map","sm","idx","verticesStart","verticesCount","indexStart","indexCount","geometry","id","uniqueId","name","getBoundingInfo","boundingSphere","centerWorld","asArray","radiusWorld","boundingBox","minimumWorld","maximumWorld","worldMatrixFromCache","checkCollisions","SerializeGeometry","BabylonSerialization.SerializeGeometry","getVerticesData","BABYLON","VertexBuffer","PositionKind","NormalKind","getIndices","UVKind","IndexedDBPersist","_scene","dbName","processRegistered","_this","processing","_onMeshAdded","._onMeshAdded","registerAfterWorldMatrixUpdate","_onMeshUpdated","_addUpdateList","_onMeshRemoved","._onMeshRemoved","_remvoeList","push","._onMeshUpdated","_onGeometryAdded","._onGeometryAdded","onGeometryUpdated","_onGeometryUpdated","_addUpdateListGeometries","_onGeometryRemoved","._onGeometryRemoved","_removeListGeometries","._onGeometryUpdated","_processLists","._processLists","_indexedDb","_processDatabaseUpdate","updatedMeshes","updatedGeometries","length","onDatabaseUpdated","._processDatabaseUpdate","callback","transaction","MESHES_OBJECT_STORE_NAME","GEOMETRIES_OBJECT_STORE_NAME","meshObjectStore","geometriesObjectStore","toRemove","gToRemove","oncomplete","transaction.oncomplete","onerror","transaction.onerror","event","console","log","objectStore","hasOwnProperty","parseInt","put","pop","delete","_processMeshesAddedUpdatedBatch","._processMeshesAddedUpdatedBatch","_processMeshAddedUpdated","._processMeshAddedUpdated","serializedMesh","time","timeEnd","_processMeshRemoved","._processMeshRemoved","processGeometryAddedUpdated",".processGeometryAddedUpdated","serializedGeometry","_processGeometryRemoved","._processGeometryRemoved","_openDatabase","db","onNewMeshAdded","onMeshRemoved","onGeometryAdded","onGeometryRemoved","registerAfterRender","setTimeout","meshes","forEach","node","getGeometries","prototype","IndexedDBPersist.prototype._openDatabase","dbVersion","deleteDatabase","successCallback","indexedDB","request","open","request.onerror","e","onsuccess","request.onsuccess","openedDb","target","result","onupgradeneeded","request.onupgradeneeded","meshesObjectStore","createObjectStore","createIndex","countMeshes","IndexedDBPersist.prototype.countMeshes","countCallback","index","req","count","req.onsuccess","getAllMeshes","IndexedDBPersist.prototype.getAllMeshes","trans","store","cursorRequest","trans.oncomplete","openCursor","cursorRequest.onerror","error","cursorRequest.onsuccess","evt","cursor","value","continue"]
}
