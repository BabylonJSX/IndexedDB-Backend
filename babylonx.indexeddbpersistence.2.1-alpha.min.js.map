{
"version":3,
"file":"babylonx.indexeddbpersistence.2.1-alpha.min.js",
"lineCount":1,
"mappings":"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",
"sources":["babylonx.indexeddbpersistence.2.1-alpha.js"],
"names":["BABYLONX","BabylonSerialization","SerializeMesh","BabylonSerialization.SerializeMesh","mesh","submeshes","geometryId","subMeshes","map","sm","idx","verticesStart","verticesCount","indexStart","indexCount","geometry","id","uniqueId","name","getBoundingInfo","boundingSphere","centerWorld","asArray","radiusWorld","boundingBox","minimumWorld","maximumWorld","worldMatrixFromCache","checkCollisions","SerializeGeometry","BabylonSerialization.SerializeGeometry","getVerticesData","BABYLON","VertexBuffer","PositionKind","NormalKind","getIndices","UVKind","IndexedDBPersist","_scene","dbName","processRegistered","_this","_onMeshAdded","._onMeshAdded","registerAfterWorldMatrixUpdate","_onMeshUpdated","_addUpdateList","_onMeshRemoved","._onMeshRemoved","_remvoeList","push","._onMeshUpdated","_onGeometryAdded","._onGeometryAdded","onGeometryUpdated","_onGeometryUpdated","_addUpdateListGeometries","_onGeometryRemoved","._onGeometryRemoved","_removeListGeometries","._onGeometryUpdated","_processLists","._processLists","updatedMeshes","updatedGeometries","toRemove","gToRemove","_indexedDb","hasOwnProperty","parseInt","_processMeshAddedUpdated","processGeometryAddedUpdated","length","pop","_processMeshRemoved","_processGeometryRemoved","onDatabaseUpdated","._processMeshAddedUpdated","serializedMesh","transaction","MESHES_OBJECT_STORE_NAME","objectStore","oncomplete","transaction.oncomplete","onerror","transaction.onerror","event","console","log","put","._processMeshRemoved","delete",".processGeometryAddedUpdated","serializedGeometry","GEOMETRIES_OBJECT_STORE_NAME","._processGeometryRemoved","_openDatabase","db","onNewMeshAdded","onMeshRemoved","onGeometryAdded","onGeometryRemoved","registerAfterRender","setTimeout","meshes","forEach","node","getGeometries","prototype","IndexedDBPersist.prototype._openDatabase","dbVersion","deleteDatabase","successCallback","indexedDB","request","open","request.onerror","e","onsuccess","request.onsuccess","openedDb","target","result","onupgradeneeded","request.onupgradeneeded","meshesObjectStore","createObjectStore","geometriesObjectStore","createIndex","countMeshes","IndexedDBPersist.prototype.countMeshes","countCallback","index","req","count","req.onsuccess","getAllMeshes","IndexedDBPersist.prototype.getAllMeshes","callback","trans","store","cursorRequest","trans.oncomplete","openCursor","cursorRequest.onerror","error","cursorRequest.onsuccess","evt","cursor","value","continue"]
}
