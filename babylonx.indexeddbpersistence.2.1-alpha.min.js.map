{
"version":3,
"file":"babylonx.indexeddbpersistence.2.1-alpha.min.js",
"lineCount":1,
"mappings":"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",
"sources":["babylonx.indexeddbpersistence.2.1-alpha.js"],
"names":["BABYLONX","MeshSerialization","SerializeMesh","MeshSerialization.SerializeMesh","mesh","submeshes","subMeshes","map","sm","idx","verticesStart","verticesCount","indexStart","indexCount","uniqueId","id","name","getIndices","getVerticesData","BABYLON","VertexBuffer","PositionKind","getBoundingInfo","boundingSphere","centerWorld","asArray","radiusWorld","boundingBox","minimumWorld","maximumWorld","worldMatrixFromCache","checkCollisions","IndexedDBPersist","_scene","dbName","processRegistered","_this","uniqueIdCounter_","onMeshAdded",".onMeshAdded","registerAfterWorldMatrixUpdate","onMeshUpdated","addUpdateList","onMeshRemoved",".onMeshRemoved","remvoeList","push",".onMeshUpdated","processLists",".processLists","updated","property","toRemove","indexedDb_","hasOwnProperty","parseInt","processMeshAddedUpdated","length","pop","processMeshRemoved","onDatabaseUpdated",".processMeshAddedUpdated","serializedMesh","transaction","OBJECT_STORE_NAME","objectStore","oncomplete","transaction.oncomplete","onerror","transaction.onerror","event","console","log","put",".processMeshRemoved","delete","openDatabase","db","onNewMeshAdded","registerAfterRender","setTimeout","meshes","forEach","node","index","prototype","IndexedDBPersist.prototype.openDatabase","dbVersion","deleteDatabase","successCallback","indexedDB","request","open","request.onerror","e","onsuccess","request.onsuccess","openedDb","target","result","onupgradeneeded","request.onupgradeneeded","meshesObjectStore","createObjectStore","createIndex","countMeshes","IndexedDBPersist.prototype.countMeshes","countCallback","req","count","req.onsuccess","getAllMeshes","IndexedDBPersist.prototype.getAllMeshes","callback","trans","store","cursorRequest","trans.oncomplete","openCursor","cursorRequest.onerror","error","cursorRequest.onsuccess","evt","cursor","value","continue"]
}
